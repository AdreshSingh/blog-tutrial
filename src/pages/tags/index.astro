---
import BaseLayout from "../../layouts/BaseLayout.astro";

const pageTitle = "Tag Index Page";

// a manual way to do it
// const tags = ["astro","blogging","learning in public"]

const allPosts = await Astro.glob("../posts/*.md");

const dynamicTags = [
  ...new Set(allPosts.map((post) => post.frontmatter.tags).flat()),
];
---

<BaseLayout pageTitle={pageTitle}>
  <h1>Welcome to Home Tag Page</h1>
  <div class="bg-gray-500 p-4 rounded-md">
    {
      dynamicTags.map((tag) => (
        <a
          class="px-2 py-3 bg-gray-900 m-1 rounded-md text-blue-300 font-semibold hover:bg-gray-300 hover:text-blue-900"
          href={`/tags/${tag}`}
        >
          {tag}
        </a>
      ))
    }
  </div>
</BaseLayout>
